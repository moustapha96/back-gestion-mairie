{% extends 'base/base-mail.html.twig' %}

{% block title %}Bienvenue - Votre compte a été créé{% endblock %}
{% block header_title %}Bienvenue sur votre espace personnel{% endblock %}

{% block content %}

  {# ============== Salutation ============== #}
  {% set prenom = user.prenom ?? '' %}
  {% set nom = user.nom ?? '' %}
  {% set fullName = (prenom or nom) ? (prenom ~ ' ' ~ nom)|trim : 'Madame/Monsieur' %}

  <p class="greeting">Bonjour {{ fullName }},</p>

  <div class="message">
    <p>Nous avons le plaisir de vous informer que votre compte a été créé avec succès sur la plateforme de Gestion de la Mairie.</p>

    {# ============== Card principale (sable) ============== #}
    <div style="background:#EEEEE4;border:1px solid #76B5C5;border-radius:4px;padding:16px;margin:15px 0;">
      <h3 style="color:#1E81B0;margin:0 0 8px 0;">Vos informations personnelles</h3>
      <ul style="list-style:none;padding:0;margin:10px 0;">
        <li style="margin-bottom:8px;"><strong>Nom complet :</strong> {{ (prenom ~ ' ' ~ nom)|trim ?: '—' }}</li>
        <li style="margin-bottom:8px;"><strong>Email :</strong> {{ user.email ?? '—' }}</li>
        <li style="margin-bottom:8px;"><strong>Adresse :</strong> {{ user.adresse ?? '—' }}</li>
        <li style="margin-bottom:8px;"><strong>Téléphone :</strong> {{ user.telephone ?? '—' }}</li>
      </ul>
    </div>

    {# ============== Card secondaire (bleue) ============== #}
    <div style="background:#f9fbff;border:1px solid #c9def5;border-radius:4px;padding:16px;margin:15px 0;">
      <h4 style="color:#1E81B0;margin:0 0 8px 0;">Vos identifiants de connexion</h4>
      <p style="margin:5px 0;"><strong>Email :</strong> {{ user.email ?? '—' }}</p>
      {% if password is defined and password %}
        <p style="margin:5px 0;">
          <strong>Mot de passe temporaire :</strong>
          <span style="font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;">
            {{ password }}
          </span>
        </p>
        <p style="color:#D32F2F;font-size:.9em;margin-top:10px;">
          Pour des raisons de sécurité, nous vous recommandons fortement de modifier ce mot de passe dès votre première connexion.
        </p>
      {% endif %}
    </div>

    {# ============== Appel à l'action ============== #}
    <div style="margin:25px 0;text-align:center;">
      <p style="margin-bottom:15px;">Pour activer votre compte et commencer à utiliser nos services, cliquez sur le bouton ci-dessous :</p>
      {% if activationUrl %}
        <a href="{{ activationUrl }}"
           style="display:inline-block;background:#1E81B0;color:#fff;text-decoration:none;
                  padding:12px 24px;border-radius:5px;border:1px solid #154C79;font-weight:600;">
          Activer mon compte
        </a>
      {% endif %}
    </div>

    {# ============== Lien alternatif ============== #}
    {% if activationUrl %}
      <p style="background:#EEEEE4;padding:10px;border:1px solid #76B5C5;border-radius:4px;font-size:.9em;">
        Si le bouton ne fonctionne pas, copiez et collez ce lien dans votre navigateur :<br>
        <span style="word-break:break-all;color:#154C79;">{{ activationUrl }}</span>
      </p>
    {% endif %}

    

   
  </div>

{% endblock %}



